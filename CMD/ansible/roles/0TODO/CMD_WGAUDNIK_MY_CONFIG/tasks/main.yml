# ---> Don't change this file manually <---
- name: GIT PULL REPOS
  become: 'no'
  git:
    repo: '{{ item.repo }}'
    dest: '{{ item.dest }}'
    force: '{{ item.force }}'
    version: master
  with_items:
    - {repo: 'https://github.com/robbyrussell/oh-my-zsh', dest: '~/.oh-my-zsh', force: 'yes'}
    - {repo: 'https://github.com/romkatv/powerlevel10k.git', dest: '~/.oh-my-zsh/custom/themes/powerlevel10k', force: 'yes'}
    - {repo: 'https://github.com/zsh-users/zsh-autosuggestions', dest: '~/.oh-my-zsh/custom/plugins/zsh-autosuggestions', force: 'yes'}
    - {repo: 'https://github.com/zsh-users/zsh-syntax-highlighting.git', dest: '~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting', force: 'yes'}
    - {repo: 'https://github.com/tmux-plugins/tpm', dest: '~/.tmux/plugins/tpm', force: 'yes'}
- name: CREATE DIR
  become: 'no'
  file:
    path='{{ item.path }}'
    state='{{ item.state }}'
    recurse='{{ item.recurse }}'
  with_items:
    - {path: '~/.config/mc', state: 'directory', recurse: 'yes'}
    - {path: '~/.config/htop', state: 'directory', recurse: 'yes'}
    - {path: '~/.vim/colors', state: 'directory', recurse: 'yes'}
    - {path: '~/.vim/undodir', state: 'directory', recurse: 'yes'}
    - {path: '~/.vim/spell', state: 'directory', recurse: 'yes'}
    - {path: '/mnt/NAS_Backups', state: 'directory', recurse: 'yes'}
    - {path: '/mnt/NAS_Important', state: 'directory', recurse: 'yes'}
    - {path: '/mnt/NAS_Plex', state: 'directory', recurse: 'yes'}
    - {path: '/mnt/NAS_Storage', state: 'directory', recurse: 'yes'}
    - {path: '/mnt/NAS_VirtualBox', state: 'directory', recurse: 'yes'}
    - {path: '/mnt/usb', state: 'directory', recurse: 'yes'}
- name: TMUX LINK FILES
  become: 'no'
  file:
    src='{{ item.src }}'
    dest='{{ item.dest }}'
    state='{{ item.state }}'
    force='{{ item.force }}'
  with_items:
    - {src: '~/.my-config/CMD/config/.tmux.conf', dest: '~/.tmux.conf', state: 'link', force: 'yes'}
- name: TMUX INSTALL PLUGINS
  become: 'no'
  when: reg_wgaudnik_git_pull_config_repo.changed
  shell: tmux start-server && ~/.tmux/plugins/tpm/scripts/install_plugins.sh
- name: TMUX UPDATE PLUGINS
  become: 'no'
  when: reg_wgaudnik_git_pull_config_repo.changed
  shell: tmux start-server && ~/.tmux/plugins/tpm/scripts/update_plugin.sh
- name: TMUX CLEAN PLUGINS
  become: 'no'
  when: reg_wgaudnik_git_pull_config_repo.changed
  shell: tmux start-server && ~/.tmux/plugins/tpm/scripts/clean_plugins.sh
- name: MC COPY FILES
  become: 'no'
  when: reg_wgaudnik_git_pull_config_repo.changed
  copy:
    src='{{ item.src }}'
    dest='{{ item.dest }}'
    remote_src='{{ item.remote_src }}'
    mode='{{ item.mode }}'
  with_items:
    - {src: '~/.my-config/CMD/config/mc/ini', dest: '~/.config/mc/ini', remote_src: 'yes', mode: '0644' }
    - {src: '~/.my-config/CMD/config/mc/panels.ini', dest: '~/.config/mc/panels.ini', remote_src: 'yes', mode: '0644' }
- name: ADDITIONALS
  import_tasks: additionals.yml
